---
title: 计算机网络（一）
date: 2020-02-26 22:39:05
tags:
- 计算机网络
- 笔记
---
# 一、前言
本学期开了计算机网络的必修课，此课程基本是考研专业课中的必考科目，其本身内容在计算机体系中也十分重要。因此打算做些笔记记录下。笔记中会包括我在课上学到的知识点与我课余自己看到的一些知识，并且我会尽量做到自己理解后以自己的语言来讲述，而不是单纯的复制粘贴。至于内容顺序，就按着课本--谢希仁老师的《计算机网络第七版》的内容顺序来。
<!--- more --->
# 二、第一章 概述
## （一）简介
本章的内容主要是简要介绍计算机网络。其中包括何为互联网、计算机网络在世界以及在我国的发展历史，并且简要介绍了互联网的组成、计算机网络的分类以及计算机网络性能的几个指标。最重要的是引入了协议以及计算机网络的体系结构的概念，同时对这些内容进行一定程度的展开，为后续章节详细分析计算机网络体系结构作了铺垫。
**重点**：
* 互联网边缘部分与核心部分的作用，其中包括分组交换的概念。
* 计算机网络的性能指标
* 计算机网络的分层体系结构，包含协议与服务的概念。
### 1.计算机网络与互联网
如今，社会已经迈入信息时代。在这个时代，各式各样的信息通过各类网络即可进入每家每户，到达你的个人设备中。在这各类网络中，有**三大类网络**最为普及——电信网络、有线电视网络、计算机网络。
![](https://Kylinnnnn.github.io/img/ComputerNetwork01.png)
其中的计算机网络便是我们的主角。

计算机网络拥有共享信息、协同计算、方便通信以及共享硬件四大特点。
计算机网络由若干结点与连接结点的链路组成，然后这些计算机网络通过路由器组成了互连的网络，称为**互连网**。
互连网中的结点可以简要分为两类：一类是以主机、电脑、手机等设备为代表的结点；另一类则是路由器结点，**这一类结点主要起到连接的作用**。
由上可知，我们可以简单地把互连网定义为：
$$互连网 = 一类结点 + 链路 + 另一类结点$$

另外，此互连网与彼互联网不同。
> 互连网（internet）：泛指由多个计算机网络互连而成的计算机网络。
> 互联网（Internet）：专指当前全球最大最开放、由众多网络相互连接而成的特定的互连网，它采用TCP/IP协议族作为通信的规则，其前身是美国的ARPANET。

互联网有两个基本特点：**连通性**和**共享**。
### 2.互联网的发展历史
互联网的发展历史主要分为三个阶段。
（1）第一阶段(1969年-1985年)
这一阶段主要是从ARPANET发展到了互联网的阶段。
* 1969年：美国国防部建立了第一个分组网络ARPANET
* 1983年：TCP/IP协议称为ARPNET上的标准。
* 1990年：ARPANET正式关闭
人们把1983年作为互联网的诞生时间。

（2）第二阶段(1985年-1993年)
在这一阶段中，逐渐建成了互联网的三级结构。
* 1985年：开始建设NSFNET
* 1991年：企业接入互联网

（3）第三阶段(1993年-至今)
在本阶段中，NSFNET最终被取代，ISP开始出现，并逐渐形成了多层ISP结构的互联网。
## （二）互联网的组成
互联网由**边缘部分**与**核心部分**组成。
边缘部分由连接在网络上的所有主机组成，又称为**端系统**。
核心部分由大量网络与路由器组成。核心部分的主要作用是为边缘部分提供服务。
![](https://Kylinnnnn.github.io/img/ComputerNetwork02.png)
另外，David D.Clark提出了“边缘智能，核心简单”的模式。这正是目前计算机网络的发展趋势，尤其是现在进入5G时代，这种趋势愈发显著，从5G手机到车联网，边缘网络中的设备功能越来越强大和全面。
### 1.边缘部分
边缘部分的通信被称为**端到端的通信**，其**实质是两台主机上进程间的通信**。
边缘部分的通信有两种方式。
* 一种是“客户端-服务端方式”，简称“C/S方式”。在此种架构中，通信的双方被分为客户端与服务端。客户端是服务的请求方，服务端是服务的提供方。
* 另一种是“对等方式”，简称“P2P方式”。在此架构中，双方地位对等，不刻意区分服务端与客户端，或者说，P2P通信的双方即是客户端又是服务端。
### 2.核心部分
在核心部分中，起到核心作用的是**路由器**。而核心部分的**核心功能**是**分组系统**。

这里就要谈到在通信过程中使用到的数据交换技术了。
## （三）数据交换技术
数据交换技术主要有三种：
* 电路交换
* 报文交换
* 分组交换

其中分组交换正是互联网核心部分所采用的技术。
### 1.电路交换
电路交换是面向连接的数据交换技术。早期的电话便是通过这种数据交换方式连接。
![](https://Kylinnnnn.github.io/img/ComputerNetwork03.png)
![](https://Kylinnnnn.github.io/img/ComputerNetwork04.png)
当电话数量继续增多时，就需要通过程控交换机进行连接。

电路交换的过程分为三个阶段：
①.建立连接
②.进行通信
③.释放连接
![](https://Kylinnnnn.github.io/img/ComputerNetwork05.jfif)
电路交换的优点有：
* 独占信道，通信有保证
* 传输延时小，无拥塞

缺点有：
* 建立连接的时间较长
* 又由于独占信道，工作效率较低
### 2.报文交换
报文交换是指报文在分段的连接上进行**存储转发**。
报文交换主要有三个过程：
①.在结点交换机暂存
②.查找转发表
③.找到转发的端口，发送报文
![](https://Kylinnnnn.github.io/img/ComputerNetwork06.jfif)
由于报文交换是通过存储转发进行数据交换，因此不需要建立专用的连接通道。因此，报文交换最大的特征就是**无连接**。

报文交换的优点：
* 不需要建立专用信道
* 可以多条报文共用一条信道，提高了并发性

缺点：
* 由于没有对报文的长度加以限制，因此需要中间结点有较大存储空间，由此增加了开销。
* 由于报文需要在中间结点排队转发，因此时延比较大。
### 3.分组交换
分组交换方式与报文交换方式类似，也是在分段的连接上采用存储转发。但是，分组交换会将长报文划分成带有首部的短报文再进行转发。其中，首部带有目标地址信息以及报文顺序等信息。
![](https://Kylinnnnn.github.io/img/ComputerNetwork07.png)

接下来说是分组交换发送出去的数据是如何被接收的。首先，虽然采用分组交换的结点在**发出数据包时是按顺序发出的**，但是由于不同数据包选择的网络通路不一定相同，以及网络拥塞等情况，这些数据包通常**不会按顺序到达接收端**。为此，在接收端有一个滑动窗口，在接收端接收到数据包后，根据数据包内的信息，将剥除首部的数据部分放进其对应的位置，等所有的数据包都接受后，原本的数据信息就被还原了出来。

另外，分组交换中，并不是将长报文分得越短越好。因为每一个分组都需要添加首部，分组越多，需要添加的首部越多。所以过度的分组会造成不必要的开销。

分组交换方式的问题：
* 各分组在传递过程中的各个中间结点都会排队，因此会造成时延。
* 由于每一个分组都需要加上首部，因此会增加开销。
### 4.总结

|数据交换方式|优点|缺点|
|-----|-----|-----|
|电路交换|独占信道，传输稳定；延迟低，无拥塞。|建立连接时间长；效率低。|
|报文交换|不需要建立专用信道；并发度高。|排队时延高；对中间结点的储存空间要求较高，因此开销较高。|
|分组交换|相比电路交换并发度高；相比报文交换更加灵活，对中间结点的储存能力要求较低。|排队时延；首部的添加增加了空间开销|

## （四）网络的分类
![](https://Kylinnnnn.github.io/img/ComputerNetwork08.png)
## （五）计算机网络的性能指标
计算机网络的性能指标有7个：速率（rate）、带宽（bandwidth）、吞吐量（throughput）、时延（delay）、时延带宽积（bandwidth-delay product）、往返时间（RTT）、利用率。
### 1.速率（rate）
速率是指数据的传送速率，也称数据率或比特率。单位为`bit/s`、`kbit/s`等。
进制如下
$$1 Gbit/s = 10^3 Mbit/s = 10^6 kbit/s = 10^9 bit/s$$
PS:$$1 bit/s = 1bps$$
### 2.带宽（bandwidth）
带宽有两个含义。一个含义是指信号的频带宽度，单位为Hz。
但在计算机网络中为另一个含义：单位时间内某信道通过的“最高数据率”，单位为`bit/s`。因此，更宽的链路意味着每秒有更多比特从计算机注入到链路。
在时间轴上，信号的宽度随着带宽的增大而变窄。
![](https://Kylinnnnn.github.io/img/ComputerNetwork09.png)
### 3.吞吐量
吞吐量表示的是单位时间内通过某个网络（接口或者信道）的数据量。
### 4.时延
时延是指数据从网络的一段传输到另一端所需要的时间。
时延共分为四类：
![](https://Kylinnnnn.github.io/img/ComputerNetwork10.png)
其中，排队时延与处理时延通常来说时间最长。
另外，四种时延产生的地方也不同
![](https://Kylinnnnn.github.io/img/ComputerNetwork11.png)
计算：
$$发送时延 = \frac{数据长度（bit）}{发送速率（bit/s），即带宽}$$
$$传播时延 = \frac{信道长度（m）}{在信道中的传播速率（m/s）}$$
### 5.时延带宽积
时延带宽积又称为以比特为单位的链路长度。
$$时延带宽积 = 传播时延 \times 带宽$$
### 6.往返时间
往返时间表示从发送方发送数据开始，到发送方收到来自接受饭的确认信息为止的用时。
### 7.利用率
利用率分为**信道利用率**和**网络利用率**。
信道利用率指出某条信道有百分之几的时间是被利用的。完全空闲的信道利用率是零。
网络利用率是全网络的信道利用率的加权平均值。
PS：信道的利用率并非越高越好。信道的利用率越高，其中的时延就越大，因此某些专用信道并不需要太高的利用率。
![](https://Kylinnnnn.github.io/img/ComputerNetwork12.png)
## （六）计算机网络的体系结构
本小节只概括性的谈谈一点基础概念以及网络分层的意义与实质。详细部分可以看我另一篇笔记向博文“TCP/IP：OSI参考模型与TCP/IP参考模型”。
网络协议的三要素：语法、语义、时序。
![](https://Kylinnnnn.github.io/img/ComputerNetwork13.png)
网络分层的优点：
* 各层独立
* 灵活性好
* 易于维护
* 结构上可分割
* 促进标准化
缺点：
* 部分功能在各层有不必要的重复

通信虚电路：通信是在双方的对等层之间进行，第N层只能与对方的第N层通信。
通信实电路：网络体系结构的每一层将数据和控制信息传递给下层直至最底层，通过物理介质进行传输。
因此，**多层通信的实质**是：
①.对等层之间进行虚拟通信
②.上层向下层传递数据和控制信息，或者说上层调用下层所提供的服务。
③.实际通信在双方的最底层之间进行。
④.协议是通信双方横向的关系
⑤.服务是纵向的